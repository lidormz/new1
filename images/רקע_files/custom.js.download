jQuery.event.special.touchstart={setup:function(_,ns,handle){if(ns.includes('noPreventDefault'))
this.addEventListener('touchstart',handle,{passive:false});else
this.addEventListener('touchstart',handle,{passive:true});}};$(document).ready(function(){$("#inputAddDates").datepicker({minDate:0,numberOfMonths:2,beforeShow:function(input,inst){$("#datepicker-add-dates").append($("#ui-datepicker-div"));dpPosition(input,inst);},beforeShowDay:function(date){var date1=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$("#searchFromDate").val());var date2=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$("#searchToDate").val());var isHightlight=date1&&((date.getTime()==date1.getTime())||(date2&&date>=date1&&date<=date2));if(isHightlight&&date1&&date2&&(date1.getTime()!=date2.getTime())){if(date.getTime()==date1.getTime()){var cssClass="dp-highlight first";}else if(date.getTime()==date2.getTime()){var cssClass="dp-highlight last";}else{var cssClass="dp-highlight";}}else if(date1&&!date2){var cssClass="dp-single-date";}
return[true,isHightlight?cssClass:""];},onSelect:function(dateText,inst){clearValidation(inputAddDates);inst.inline=true;var date1=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$("#searchFromDate").val());var date2=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$("#searchToDate").val());var selectedDate=$.datepicker.parseDate($.datepicker._defaults.dateFormat,dateText);var uiSelectedDate=$.datepicker.formatDate("M d",selectedDate);var uiDate1=$.datepicker.formatDate("M d",date1);var uiDate2=$.datepicker.formatDate("M d",date2);if(!date1||date2){$("#searchFromDate").val(dateText);$("#searchToDate").val("");$("#inputAddDates").val(uiSelectedDate);}else if(selectedDate<date1){$("#searchToDate").val($("#searchFromDate").val());$("#searchFromDate").val(dateText);$("#inputAddDates").val(uiSelectedDate+' to '+uiDate1);}else{if(selectedDate>date1){$("#searchToDate").val(dateText);$("#inputAddDates").val(uiDate1+' to '+uiSelectedDate);}else{$("#searchToDate").val("");$("#inputAddDates").val(uiSelectedDate);}}
$(this).datepicker();},onClose:function(date,inst){if($('.validated').length!=0){validateSearchFields();}
inst.inline=false;}});function dpPosition(input,inst){setTimeout(function(){var formElem=$(".block-main-form");var formWidth=formElem.width();inst.dpDiv.css({top:0,left:0,width:formWidth+'px',});inst.dpDiv.find('a.ui-state-highlight').removeClass('ui-state-highlight');inst.dpDiv.find("a.ui-state-active").removeClass("ui-state-active");$(".ui-datepicker-calendar tr .dp-single-date").each(function(){$(this).find("a").addClass("ui-state-active")});},1)}
$(".owl-carousel").owlCarousel({margin:32,nav:false,lazyLoad:true,autoHeight:true,responsiveClass:true,responsive:{0:{items:1},768:{items:2},992:{items:3},}});$("#searchLocation").on('input',function(){this.value=this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1');});var form=document.getElementById("searchForm");function validateSearchFields(){function validField(item,msg){item.classList.remove('is-invalid');item.classList.add('is-valid');searchValidation.textContent=msg;searchValidation.style.display="none";}
function invalidField(item,msg){item.classList.remove('is-valid');item.classList.add('is-invalid');searchValidation.textContent=msg;searchValidation.style.display="block";}
if(searchLocation.value.length==''||searchLocation.value.length==null){invalidField(searchLocation,"Please provide a zip code");return false;}else if(searchLocation.value.length!=5){invalidField(searchLocation,"Please provide a valid zip code");return false;}else{validField(searchLocation);}
return true;}
form.addEventListener('change',function(evt){if($('.validated').length!=0){validateSearchFields();}});form.searchLocation.addEventListener('keyup',function(evt){if(evt.keyCode!=9){clearValidation(searchLocation);}});form.inputAddDates.addEventListener('keydown',function(evt){evt.preventDefault();});function clearValidation(item){item.classList.remove('is-invalid');item.classList.remove('is-valid');searchValidation.textContent="";searchValidation.style.display="none";}
form.addEventListener('submit',function(event){form.classList.add('validated');var validation=validateSearchFields();if(validation===false){event.preventDefault();}else{const location=$("#searchLocation").val();const fromDate=$("#searchFromDate").val();if($("#searchToDate").val()==''||$("#searchToDate").val()==null){const toDate=$("#searchFromDate").val();}else{const toDate=$("#searchToDate").val();}
return true;}},false);});